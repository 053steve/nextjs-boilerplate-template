(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4295)}])},8433:function(e,r,t){"use strict";t.d(r,{I8:function(){return p},pg:function(){return h}});var n=t(8100),o=t(9669),u=t.n(o),c=t(2286),s=function(e){return Promise.reject(e)},a=t(3454);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var l=u().create({baseURL:a.env.NEXT_PUBLIC_AXIOS_BASEURL,withCredentials:!1,headers:{"Access-Control-Allow-Origin":"*"}});l.interceptors.request.use((function(e){var r=(0,c.parseCookies)().auth_token;return r&&(e.headers.Authorization="bearer ".concat(r)),e}),s),l.interceptors.response.use((function(e){if(200===(null===e||void 0===e?void 0:e.status)||201===(null===e||void 0===e?void 0:e.status))return e;throw new Error(e.message)}),s);var d=function(e){var r=u().CancelToken.source(),t=l(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){i(e,r,t[r])}))}return e}({},e,{cancelToken:r.token})).then((function(e){return e.data}));return t.cancel=function(){r.cancel("Query was cancelled by React Query")},t};function f(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){f(e,r,t[r])}))}return e}var p=function(e){return d({url:"/auth",method:"post",data:e})},h=function(e,r){var t,o=(r||{}).swr,u=!!e,c=null!==(t=null===o||void 0===o?void 0:o.swrKey)&&void 0!==t?t:function(){return u?function(e){return["/user/detail/".concat(e)]}(e):null};return b({swrKey:c},(0,n.ZP)(c,(function(){return function(e){return d({url:"/user/detail/".concat(e),method:"get"})}(e)}),o))}},1719:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var n=t(5893),o=t(912),u=t(1768);function c(e){var r=e.children;return(0,n.jsx)(u.R,{children:(0,n.jsx)(o.H,{children:r})})}},912:function(e,r,t){"use strict";t.d(r,{H:function(){return i},a:function(){return l}});var n=t(5893),o=t(7294);function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var c={authenticated:!1,user:void 0};function s(e,r){return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){u(e,r,t[r])}))}return e}({},e,r)}var a=(0,o.createContext)(void 0);function i(e){var r=e.children,t=(0,o.useReducer)(s,c),u=t[0],i=t[1];return(0,n.jsx)(a.Provider,{value:{state:u,dispatch:i},children:r})}function l(){var e=(0,o.useContext)(a);if(!e)throw new Error("useAuth must be used inside a `AuthProvider`");return e}},1768:function(e,r,t){"use strict";t.d(r,{R:function(){return i},O:function(){return l}});var n=t(5893),o=t(7294);function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var c={alertMsg:"",loading:!1,showAlert:!1,alertType:void 0};function s(e,r){return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){u(e,r,t[r])}))}return e}({},e,r)}var a=(0,o.createContext)(void 0);function i(e){var r=e.children,t=(0,o.useReducer)(s,c),u=t[0],i=t[1];return(0,n.jsx)(a.Provider,{value:{state:u,dispatch:i},children:r})}function l(){var e=(0,o.useContext)(a);if(!e)throw new Error("useGlobal must be used inside a `GlobalProvider`");return e}},4295:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return j}});var n,o=t(4051),u=t.n(o),c=t(5893),s=t(7294);!function(e){e.SUCCESS="SUCCESS",e.DANGER="DANGER"}(n||(n={}));var a=t(1768),i=function(){var e,r=(0,a.O)().state,t=r.alertMsg,n=r.showAlert,o=r.alertType,u={SUCCESS:{bg:"bg-green-100",border:"border-green-400",textColor:"text-green-700",closeColor:" text-green-500"},DANGER:{bg:"bg-red-100",border:"border-red-400",textColor:"text-red-700",closeColor:" text-red-500"}};return n&&o&&(e=(0,c.jsxs)("div",{className:"".concat(u[o].bg," border ").concat(u[o].border," ").concat(u[o].textColor," px-4 py-3 rounded relative"),role:"alert",children:[(0,c.jsx)("strong",{className:"font-bold",children:"Holy smokes!"}),(0,c.jsx)("span",{className:"block sm:inline",children:t}),(0,c.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:(0,c.jsxs)("svg",{className:"fill-current h-6 w-6 ".concat(u[o].closeColor),role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[(0,c.jsx)("title",{children:"Close"}),(0,c.jsx)("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]})),(0,c.jsx)("div",{children:e})},l=t(1719);function d(e){var r=e.children;return(0,c.jsx)(l.Z,{children:(0,c.jsxs)("div",{className:"w-full min-h-screen bg-gray-50 flex flex-col sm:justify-center items-center pt-6 sm:pt-0",children:[(0,c.jsx)(i,{}),r]})})}var f=t(7536),b=t(5932),p=t(8433),h=t(1163),v=t(912),m=t(2286);function y(e,r,t,n,o,u,c){try{var s=e[u](c),a=s.value}catch(i){return void t(i)}s.done?r(a):Promise.resolve(a).then(n,o)}function g(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){g(e,r,t[r])}))}return e}var w=function(){var e=(0,f.cI)(),r=e.register,t=e.handleSubmit,o=e.formState.errors,i=(0,m.parseCookies)().auth_user,l=(0,v.a)(),d=(0,a.O)(),g=(0,p.pg)(i),w=g.data,j=(g.error,w);(0,s.useEffect)((function(){j&&h.default.replace("/dashboard")}),[j]);var O=function(){var e,r=(e=u().mark((function e(r){var t,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.x)(x({},r,{authType:"STANDARD"}));case 3:t=e.sent,o=t.user,t.token,l.dispatch({authenticated:!0,user:o}),d.dispatch({alertMsg:"Login Success",loading:!1,showAlert:!0,alertType:n.SUCCESS}),setTimeout((function(){return h.default.replace("/dashboard")}),2e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})),function(){var r=this,t=arguments;return new Promise((function(n,o){var u=e.apply(r,t);function c(e){y(u,n,o,c,s,"next",e)}function s(e){y(u,n,o,c,s,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,c.jsxs)("div",{className:"w-full mt-[200px] sm:max-w-md p-5 mx-auto",children:[(0,c.jsx)("h2",{className:"mb-12 text-center text-5xl font-extrabold",children:"Welcome."}),(0,c.jsxs)("form",{onSubmit:t(O),children:[(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{className:"block mb-1",htmlFor:"username",children:"Username"}),(0,c.jsx)("input",x({id:"username",type:"text"},r("username",{required:!0}),{className:"py-2 px-3 border border-gray-300 focus:border-red-300 focus:outline-none focus:ring focus:ring-red-200 focus:ring-opacity-50 rounded-md shadow-sm disabled:bg-gray-100 mt-1 block w-full"})),o.username&&(0,c.jsx)("span",{className:"text-red-700",children:"This Username is required"})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{className:"block mb-1",htmlFor:"password",children:"Password"}),(0,c.jsx)("input",x({id:"password",type:"password"},r("password",{required:!0}),{className:"py-2 px-3 border border-gray-300 focus:border-red-300 focus:outline-none focus:ring focus:ring-red-200 focus:ring-opacity-50 rounded-md shadow-sm disabled:bg-gray-100 mt-1 block w-full"})),o.password&&(0,c.jsx)("span",{className:"text-red-700",children:"This Password is required"})]}),(0,c.jsx)("div",{className:"mt-6",children:(0,c.jsx)("button",{className:"w-full inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold capitalize text-white hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:ring focus:ring-red-200 disabled:opacity-25 transition",children:"Sign In"})}),(0,c.jsx)("div",{className:"mt-6 text-center",children:(0,c.jsx)("button",{type:"button",className:"underline",children:"Sign up for an account"})})]})]})};w.getLayout=function(e){return(0,c.jsx)(d,{children:e})};var j=w},5932:function(e,r,t){"use strict";t.d(r,{x:function(){return d},k:function(){return f}});var n=t(4051),o=t.n(n),u=t(8433),c=t(2286),s="auth_token",a="auth_user",i={maxAge:864e5,path:"/"};function l(e,r,t,n,o,u,c){try{var s=e[u](c),a=s.value}catch(i){return void t(i)}s.done?r(a):Promise.resolve(a).then(n,o)}var d=function(){var e,r=(e=o().mark((function e(r){var t,n,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.I8)(r);case 2:return t=e.sent,n=t.token,l=t.user,n&&l&&((0,c.setCookie)(null,s,n,i),(0,c.setCookie)(null,a,l.id,i)),e.abrupt("return",{token:n,user:l});case 7:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var u=e.apply(r,t);function c(e){l(u,n,o,c,s,"next",e)}function s(e){l(u,n,o,c,s,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}(),f=function(){(0,c.destroyCookie)(null,s),(0,c.destroyCookie)(null,a)}}},function(e){e.O(0,[145,536,774,888,179],(function(){return r=5301,e(e.s=r);var r}));var r=e.O();_N_E=r}]);